namespace = fm_yag

fm_yag.1 = {
	type = country_event
	placement = ROOT
	title = fm_yag.1.t
	desc = fm_yag.1.d
	flavor = fm_yag.1.f
	duration = 3
	event_image = {
		video = "africa_construction_colony"
	}
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	option = {
		name = fm_yag.1.a
	}
}

fm_yag.2 = {
	type = country_event
	placement = root
	title = fm_yag.2.t
	desc = fm_yag.2.d
	flavor = fm_yag.2.f

	duration = 3

	icon = "gfx/interface/icons/politics_icons/radicalized.dds"
	event_image = {
		video = "ep1_transfer_of_authority"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"


	option = {
		name = fm_yag.2.a
		default_option = yes
	}

}

fm_yag.3 = { #Kaurna
	type = country_event
	placement = root
	title = fm_yag.3.t
	desc = fm_yag.3.d
	flavor = fm_yag.3.f

	duration = 3

	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	event_image = {
		video = "europenorthamerica_london_center"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"


	immediate = {
		every_scope_pop = {
			limit = {
				culture = cu:gunaikurnai
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
	}

	option = {
		name = fm_yag.3.a
		default_option = yes
		add_loyalists = {
			value = 0.1
			culture = cu:jagera
		}
		s:STATE_VICTORIA = {
			remove_homeland = cu:gunaikurnai
			add_homeland = cu:jagera
		}
	}
}

fm_yag.4 = { #thura
	type = country_event
	placement = root
	title = fm_yag.4.t
	desc = fm_yag.4.d
	flavor = fm_yag.4.f

	duration = 3

	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	event_image = {
		video = "europenorthamerica_london_center"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		every_scope_pop = {
			limit = {
				culture = cu:nauo
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
		every_scope_pop = {
			limit = {
				culture = cu:kaurna
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
	}

	option = {
		name = fm_yag.4.a
		default_option = yes
		add_loyalists = {
			value = 0.1
			culture = cu:jagera
		}
		s:STATE_SOUTH_AUSTRALIA = {
			remove_homeland = cu:nauo
			remove_homeland = cu:kaurna
			add_homeland = cu:jagera
		}

	}
}

# nuy
fm_yag.5 = {
	type = country_event
	placement = root
	title = fm_yag.5.t
	desc = fm_yag.5.d
	flavor = fm_yag.5.f

	duration = 3

	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	event_image = {
		video = "europenorthamerica_london_center"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	cooldown = { months = short_modifier_time }

	immediate = {
		every_scope_pop = {
			limit = {
				culture = cu:wati
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
		every_scope_pop = {
			limit = {
				culture = cu:ngandatha
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
		every_scope_pop = {
			limit = {
				culture = cu:nyungar
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
		every_scope_pop = {
			limit = {
				culture = cu:wadjari
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
	}

	option = {
		name = fm_yag.3.a
		default_option = yes
		add_loyalists = {
			value = 0.15
			culture = cu:jagera
		}
		s:STATE_SOUTH_AUSTRALIA = {
			remove_homeland = cu:wati
			add_homeland = cu:jagera
		}
		s:STATE_WESTERN_AUSTRALIA = {
			remove_homeland = cu:wati
			remove_homeland = cu:ngandatha
			remove_homeland = cu:nyungar
			remove_homeland = cu:wadjari
			add_homeland = cu:jagera
		}
	}
}

# north
fm_yag.6 = {
	type = country_event
	placement = root
	title = fm_yag.6.t
	desc = fm_yag.6.d
	flavor = fm_yag.6.f

	duration = 3

	icon = "gfx/interface/icons/invention_icons/pan_nationalism.dds"
	event_image = {
		video = "europenorthamerica_london_center"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	immediate = {
		every_scope_pop = {
			limit = {
				culture = cu:gija
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
		every_scope_pop = {
			limit = {
				culture = cu:wunambal
			}
			change_pop_culture = {
				target = cu:jagera
				value = 1
			}
		}
	}

	option = {
		name = fm_yag.3.a
		default_option = yes
		add_loyalists = {
			value = 0.1
			culture = cu:jagera
		}
		s:STATE_NORTHERN_TERRITORY = {
			remove_homeland = cu:gija
			add_homeland = cu:jagera
		}
		s:STATE_WESTERN_AUSTRALIA = {
			remove_homeland = cu:gija
			remove_homeland = cu:wunambal
			add_homeland = cu:jagera
		}
	}
}

# Foreign Railway Engineers
fm_yag.7 = {
	type = country_event
	placement = root
	title = fm_yag.7.t
	desc = fm_yag.7.d
	flavor = fm_yag.7.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	event_image = {
		video = "unspecific_trains"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = { has_variable = foreign_railway_engineers_event }
		can_research = railways
		NOT = { has_technology_researched = railways }
		any_country = {
			country_rank = rank_value:great_power
			has_technology_researched = railways
			NOT = { has_war_with = root }
			relations:root > 0
		}
	}

	immediate = {
		set_variable = foreign_railway_engineers_event
		random_country = {
			limit = {
				country_rank = rank_value:great_power
				has_technology_researched = railways
				NOT = { has_war_with = root }
				relations:root > 0
			}
			save_scope_as = railway_engineer_country_1
		}
		if = {
			limit = {
				any_country = {
					country_rank = rank_value:great_power
					has_technology_researched = railways
					NOT = { has_war_with = root }
					relations:root > 0
					NOT = { this = scope:railway_engineer_country_1 }
				}
			}
			random_country = {
				limit = {
					country_rank = rank_value:great_power
					has_technology_researched = railways
					NOT = { has_war_with = root }
					relations:root > 0
					NOT = { this = scope:railway_engineer_country_1 }
				}
				save_scope_as = railway_engineer_country_2
			}
		}
		if = {
			limit = {
				exists = scope:railway_engineer_country_2
				any_country = {
					country_rank = rank_value:great_power
					has_technology_researched = railways
					NOT = { has_war_with = root }
					relations:root > 0
					NOT = { this = scope:railway_engineer_country_1 }
					NOT = { this = scope:railway_engineer_country_2 }
				}
			}
			random_country = {
				limit = {
					country_rank = rank_value:great_power
					has_technology_researched = railways
					NOT = { has_war_with = root }
					relations:root > 0
					NOT = { this = scope:railway_engineer_country_1 }
					NOT = { this = scope:railway_engineer_country_2 }
				}
				save_scope_as = railway_engineer_country_3
			}
		}
	}

	option = {
		name = fm_yag.7.a
		change_relations = {
			country = scope:railway_engineer_country_1
			value = 10
		}
		add_technology_progress = {
			technology = railways
			progress = 3500
		}
	}

	option = {
		name = fm_yag.7.b

		trigger = {
			exists = scope:railway_engineer_country_2
		}
		change_relations = {
			country = scope:railway_engineer_country_2
			value = 10
		}
		add_technology_progress = {
			technology = railways
			progress = 3500
		}
	}

	option = {
		name = fm_yag.7.c

		trigger = {
			exists = scope:railway_engineer_country_3
		}
		change_relations = {
			country = scope:railway_engineer_country_3
			value = 10
		}
		add_technology_progress = {
			technology = railways
			progress = 3500
		}
	}

	option = {
		name = fm_yag.7.e
		default_option = yes

		add_modifier = {
			name = railway_our_way
			months = long_modifier_time
		}
	}
}

# Military Railways
fm_yag.8 = {
	type = country_event
	placement = scope:military_railway_state
	title = fm_yag.8.t
	desc = fm_yag.8.d
	flavor = fm_yag.8.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	event_image = {
		video = "unspecific_armored_train"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		has_technology_researched = railways
		any_scope_state = {
			has_building = building_barracks
			NOT = { has_building = building_railway }
		}
		NOT = { has_modifier = retained_railway_control }
	}

	immediate = {
		random_scope_state = {
			limit = {
				has_building = building_barracks
				NOT = { has_building = building_railway }
			}
			save_scope_as = military_railway_state
		}
		ig:ig_armed_forces = {
			save_scope_as = armed_forces_ig
		}
	}

	option = {
		name = fm_yag.8.a
		scope:military_railway_state = {
			create_building = {
				building = building_railway
				level = 1
			}
		}
		ig:ig_armed_forces = {
			add_modifier = {
				name = railway_priority
				months = long_modifier_time
			}
		}
	}

	option = {
		name = fm_yag.8.b
		default_option = yes

		add_modifier = {
			name = retained_railway_control
			months = long_modifier_time
		}

		ig:ig_armed_forces = {
			add_modifier = {
				name = refused_railway_priority
				months = normal_modifier_time
			}
		}
	}
}

# Samurai Sword-carrying Privileges
fm_yag.9 = {
	type = country_event
	placement = root
	title = fm_yag.9.t
	desc = fm_yag.9.d
	flavor = fm_yag.9.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	event_image = {
		video = "asia_westerners_arriving"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = { has_variable = samurai_sword_privileges_event }
	}

	immediate = {
		set_variable = samurai_sword_privileges_event
	}

	option = {
		name = fm_yag.9.a
		add_radicals = {
			pop_type = officers
			culture = cu:japanese
			value = large_radicals
		}
		add_radicals = {
			pop_type = soldiers
			culture = cu:japanese
			value = large_radicals
		}
		ig:ig_armed_forces = {
			add_modifier = {
				name = revoked_sword_rights
				months = long_modifier_time
			}
		}
	}

	option = {
		name = fm_yag.9.b
		add_radicals = {
			pop_type = officers
			culture = cu:japanese
			value = large_radicals
		}
		add_radicals = {
			pop_type = soldiers
			culture = cu:japanese
			value = large_radicals
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
	}

	option = {
		name = fm_yag.9.c
		default_option = yes

		ig:ig_armed_forces = {
			add_modifier = {
				name = retained_sword_rights
				months = normal_modifier_time
			}
		}
	}
}

# Shi-gakkō
fm_yag.10 = {
	type = country_event
	placement = s:STATE_KYUSHU.region_state:JAE
	title = fm_yag.10.t
	desc = fm_yag.10.d
	flavor = fm_yag.10.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	event_image = {
		video = "asia_westerners_arriving"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = { has_variable = shi_gakko_event }
		exists = s:STATE_KYUSHU.region_state:JAE
		s:STATE_KYUSHU.region_state:JAE = {
			has_building = building_barracks
		}
		ig:ig_armed_forces = {
			ig_approval <= unhappy
		}
	}

	immediate = {
		set_variable = shi_gakko_event
		s:STATE_KYUSHU.region_state:JAE = {
			save_scope_as = kyushu_state
		}
		ig:ig_armed_forces = {
			leader = { save_scope_as = armed_forces_leader }
		}
	}

	option = {
		name = fm_yag.10.a
		s:STATE_KYUSHU.region_state:JAE = {
			add_modifier = {
				name = shi_gakko
				months = normal_modifier_time
			}
			add_radicals_in_state = {
				pop_type = soldiers
				value = medium_radicals
			}
		}
	}

	option = {
		name = fm_yag.10.b
		default_option = yes

		ig:ig_armed_forces = {
			add_modifier = {
				name = shut_down_military_academies
				months = long_modifier_time
			}
			leader = {
				add_modifier = {
					name = suspected_insurrectionist
					months = long_modifier_time
				}
			}
		}
	}
}

# 
fm_yag.11 = {
	type = country_event
	placement = root
	title = fm_yag.11.t
	desc = fm_yag.11.d
	flavor = fm_yag.11.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_trade.dds"

	event_image = {
		video = "asia_westerners_arriving"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = { has_variable = japan_port_incident }
		has_law = law_type:law_isolationism
		any_scope_state = {
			has_port = yes
		}
		any_country = {
			country_rank = rank_value:great_power
			has_interest_marker_in_region = root.capital.region
			NOR = {
				has_subject_relation_with = root
				is_in_customs_union_with = root
			}
		}
	}

	immediate = {
		set_variable = {
			name = japan_port_incident
			years = 4
		}
		random_scope_state = {
			limit = { has_port = yes }
			save_scope_as = infringed_port_state
		}
		random_country = {
			limit = {
				country_rank = rank_value:great_power
				has_interest_marker_in_region = root.capital.region
				NOR = {
					has_subject_relation_with = root
					is_in_customs_union_with = root
				}
			}
			save_scope_as = infringing_country
		}

		if = {
			limit = {
				any_country = {
					country_rank = rank_value:great_power
					has_interest_marker_in_region = root.capital.region
					relations:root >= 2
					NOT = { this = scope:infringing_country }
					NOT = { is_owed_obligation_by = root }
				}
			}
			random_country = {
				limit = {
					country_rank = rank_value:great_power
					has_interest_marker_in_region = root.capital.region
					relations:root >= 2
					NOT = { this = scope:infringing_country }
					NOT = { is_owed_obligation_by = root }
				}
				save_scope_as = assistance_country
			}
		}
	}

	option = {
		name = fm_yag.11.a
		change_relations = {
			country = scope:infringing_country
			value = -20
		}
		scope:infringed_port_state.state_region = {
			add_devastation = 25
		}
	}

	option = {
		name = fm_yag.11.b
		default_option = yes

		add_modifier = {
			name = sakoku_violated
			months = long_modifier_time
		}
	}

	option = {
		name = fm_yag.11.c

		trigger = {
			exists = scope:assistance_country
		}

		set_owes_obligation_to = {
			country = scope:assistance_country
			setting = yes
		}
	}
}

# 
fm_yag.12 = {
	type = country_event
	placement = root
	title = fm_yag.12.t
	desc = fm_yag.12.d
	flavor = fm_yag.12.f

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	event_image = {
		video = "asia_confucianism_shinto"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = { has_variable = japan_sakoku_article }
	}

	immediate = {
		set_variable = japan_sakoku_article
	}

	option = {
		name = fm_yag.12.a
		if = {
			limit = { exists = c:CHU }
			change_relations = {
				country = c:CHU
				value = -20
			}
		}
		if = {
			limit = { exists = c:KOR }
			change_relations = {
				country = c:KOR
				value = -20
			}
		}
		if = {
			limit = { exists = c:USA }
			change_relations = {
				country = c:USA
				value = 30
			}
		}
		every_country = {
			limit = {
				country_rank = rank_value:great_power
				country_is_in_europe = yes
				has_interest_marker_in_region = root.capital.region
			}
			change_relations = {
				country = root
				value = 30
			}
		}
	}

	option = {
		name = fm_yag.12.b
		if = {
			limit = { exists = c:CHU }
			change_relations = {
				country = c:CHU
				value = 15
			}
		}
		if = {
			limit = { exists = c:KOR }
			change_relations = {
				country = c:KOR
				value = 15
			}
		}
	}

	option = {
		name = fm_yag.12.c
		default_option = yes

		add_modifier = {
			name = diplomatic_flexibility
			months = normal_modifier_time
		}

	}
}
